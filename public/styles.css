.game-card#sooky-card .game-thumb { max-width: 60%; margin: 6px auto 10px; }
.repo-link { display: flex; align-items: center; gap: 8px; text-decoration: none; color: #d7e3f3; background: rgba(36,46,64,0.45); border: 1px solid rgba(255,255,255,0.06); border-radius: 8px; padding: 8px 10px; transition: background 180ms ease, border-color 180ms ease, padding-right 220ms ease; overflow: hidden; }
.repo-link:hover { background: rgba(36,46,64,0.6); border-color: rgba(255,255,255,0.12); padding-right: 20px; }
.repo-link .name { font-weight: 600; }
.repo-link .updated { color: #9fb5d4; font-size: 12px; margin-left: auto; opacity: 1; transform: none; white-space: nowrap; }
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html, body {
  height: 100%;
}

body {
  background: radial-gradient(1200px 800px at 70% 10%, #19232f 0%, #0f1520 60%, #0b111b 100%);
  color: #e6eef8;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Fira Sans', 'Droid Sans', 'Helvetica Neue', Arial, sans-serif;
  overflow-y: auto; /* allow scrolling by default */
}

/* Lock scroll only when needed (e.g., Game tab) */
body.lock-scroll { overflow: hidden; }

/* Simple site nav */
.site-nav {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 30;
  background: rgba(10, 14, 22, 0.6);
  border-bottom: 1px solid rgba(255,255,255,0.06);
  backdrop-filter: blur(8px);
}
.site-nav .nav-inner {
  max-width: 1200px;
  margin: 0 auto;
  padding: 10px 14px;
  display: grid;
  grid-template-columns: 1fr auto 1fr; /* center the nav links */
  align-items: center;
  position: relative; /* for popover positioning */
}
.site-nav .brand {
  font-weight: 700;
  letter-spacing: 0.4px;
  display: flex;
  align-items: center;
  gap: 10px;
}
.site-nav .links {
  display: flex;
  gap: 12px;
}
.site-nav .nav-link {
  color: #d7e3f3;
  text-decoration: none;
  padding: 6px 10px;
  border-radius: 8px;
}
.site-nav .nav-link.active {
  background: rgba(124, 207, 255, 0.15);
  color: #7ccfff;
}

/* Push right-side nav item to the far right column */
.site-nav .nav-right { justify-self: end; }

/* Rectangular GitHub button */
#nav-github { border-radius: 6px; border: 1px solid rgba(255,255,255,0.08); background: rgba(36,46,64,0.35); }
#nav-github:hover { background: rgba(36,46,64,0.5); border-color: rgba(255,255,255,0.12); }

/* Dark mode toggle + username */
.dm-toggle {
  position: relative;
  display: inline-block;
  width: 42px;
  height: 24px;
}
.dm-toggle input {
  position: absolute;
  opacity: 0;
  width: 0;
  height: 0;
  pointer-events: none;
}
.dm-toggle .slider {
  position: absolute;
  inset: 0;
  border-radius: 999px;
  background: rgba(255,255,255,0.18);
  border: 1px solid rgba(255,255,255,0.12);
  transition: background 180ms ease, border-color 180ms ease;
}
.dm-toggle .slider::before {
  content: "";
  position: absolute;
  top: 2px;
  left: 3px;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: #0b111b;
  transition: transform 180ms ease, background 180ms ease;
}
.dm-toggle input:checked + .slider {
  background: rgba(124,207,255,0.35);
  border-color: rgba(124,207,255,0.45);
}
.dm-toggle input:checked + .slider::before {
  transform: translateX(18px);
  background: #d7e3f3;
}
.user-name-btn {
  -webkit-appearance: none;
  appearance: none;
  background: transparent;
  border: 1px solid transparent;
  color: #d7e3f3;
  font-weight: 600;
  cursor: pointer;
  padding: 2px 6px;
  border-radius: 6px;
  line-height: 1.4;
}
.user-name-btn:hover { background: rgba(255,255,255,0.08); border-color: rgba(255,255,255,0.1); }

/* Light mode overrides (default is dark) */
body.light-mode {
  background: radial-gradient(1200px 800px at 70% 10%, #f0f4fa 0%, #e8eef7 60%, #e5ecf6 100%);
  color: #0b111b;
}
body.light-mode .site-nav {
  background: rgba(255,255,255,0.72);
  border-bottom-color: rgba(0,0,0,0.08);
}
body.light-mode .nav-link { color: #0b111b; }
body.light-mode .nav-link.active {
  background: rgba(0,0,0,0.08);
  color: #0b111b;
}
body.light-mode .user-name-btn { color: #0b111b; }

/* GitHub About card */
.github-card .gh-chart-box { background: rgba(0,0,0,0.25); border: 1px solid rgba(255,255,255,0.06); border-radius: 8px; overflow: hidden; padding: 6px; }
.github-card .gh-chart-box img { width: 100%; height: auto; max-height: 160px; display: block; object-fit: contain; }
.github-card .gh-repo-list, .gh-repo-list { list-style: decimal; padding-left: 18px; display: grid; gap: 6px; margin-top: 8px; }
.github-card .gh-repo-list li { color: #c7d7ea; position: static; padding-left: 0; }
.gh-repo-list li::before { display: none; }

/* Repo chip compact default, expands on hover */
.repo-chip { display: inline-flex; align-items: center; gap: 8px; text-decoration: none; color: #d7e3f3; background: rgba(36,46,64,0.45); border: 1px solid rgba(255,255,255,0.06); border-radius: 8px; padding: 6px 10px; transition: background 180ms ease, border-color 180ms ease, padding-right 240ms ease, transform 180ms ease; }
.repo-chip .meta { opacity: 0; transform: translateX(6px); max-width: 0; overflow: hidden; transition: max-width 260ms ease, opacity 180ms ease, transform 180ms ease; color: #9fb5d4; font-size: 12px; white-space: nowrap; }
.repo-chip:hover .meta { opacity: 1; transform: translateX(0); max-width: 320px; }
.repo-chip:hover { background: rgba(36,46,64,0.6); border-color: rgba(124,207,255,0.35); padding-right: 18px; box-shadow: 0 0 0 1px rgba(124,207,255,0.35), 0 8px 22px rgba(0,0,0,0.35); transform: translateY(-1px); }
.repo-chip:hover .meta { opacity: 1; transform: translateX(0); }
.repo-chip .name { font-weight: 600; }

/* Open GitHub chip extras */
.repo-action { position: relative; }
.repo-action .avatar { width: 18px; height: 18px; border-radius: 50%; border: 1px solid rgba(255,255,255,0.2); display: inline-block; transition: transform 180ms ease, width 180ms ease, height 180ms ease; }
.repo-action:hover .avatar { transform: scale(1.5); }
.repo-action:hover .avatar { display: block; }
.repo-action:hover .meta { opacity: 1; transform: translateX(0); }
.repo-action .handle { margin-left: 6px; }

/* GitHub page avatar hover expand */
#gh-page-avatar { transition: transform 180ms ease; will-change: transform; }
#gh-page-avatar:hover { transform: scale(1.6); }

/* Onshape card tweaks (reuses GitHub styles) */
.onshape-card .gh-repo-list { list-style: decimal; }

/* GitHub preview popover */
.gh-popover { position: absolute; top: 46px; right: 14px; width: 360px; background: rgba(19,27,39,0.9); border: 1px solid rgba(255,255,255,0.08); border-radius: 10px; padding: 10px; backdrop-filter: blur(10px); box-shadow: 0 20px 60px rgba(0,0,0,0.45); display: none; z-index: 40; }
.gh-popover .row { display: grid; gap: 6px; }
.gh-popover .thumb { height: 120px; border-radius: 8px; overflow: hidden; border: 1px solid rgba(255,255,255,0.06); background: rgba(0,0,0,0.2); }
.gh-popover .thumb img { width: 100%; height: 100%; object-fit: cover; display: block; }
.gh-popover h4 { margin: 4px 0; color: #dfe9f6; }
.gh-popover p { margin: 0; color: #c7d7ea; font-size: 12px; }
.gh-popover ul { list-style: none; padding-left: 0; margin: 0; display: grid; gap: 6px; }
.gh-popover li { color: #c7d7ea; font-size: 12px; }

main { padding-top: 48px; }

.tab { display: none; }
.tab.active { display: block; }

#container {
  position: fixed;
  inset: 0;
}

#hud {
  position: fixed;
  top: 60px;
  left: 12px;
  width: 280px; /* left column */
  display: flex;
  flex-direction: column;
  gap: 8px;
  pointer-events: none;
  z-index: 10;
}

#leaderboard {
  position: fixed;
  top: 60px;
  right: 12px; /* on the right within Game tab */
  width: 300px;
  max-height: calc(100vh - 80px);
  overflow: auto;
  z-index: 12;
}

#big-timer {
  position: fixed;
  bottom: 18px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 36px;
  padding: 12px 18px;
  z-index: 15;
  pointer-events: none;
}

#big-timer span {
  font-weight: 800;
  letter-spacing: 0.5px;
}

.lb-header {
  font-weight: 700;
  color: #dfe9f6;
  margin-bottom: 6px;
  cursor: pointer;
  position: sticky;
  top: 0;
  background: rgba(19, 27, 39, 0.9);
  backdrop-filter: blur(6px);
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.lb-header::after { display: none; }

.lb-subheader {
  margin-top: 8px;
  font-weight: 600;
  color: #cfe1fb;
}

#leaderboard-list {
  list-style: none;
  display: grid;
  gap: 6px;
}

#leaderboard-list li {
  background: rgba(36, 46, 64, 0.45);
  border: 1px solid rgba(255, 255, 255, 0.06);
  border-radius: 8px;
  padding: 6px 10px;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

#users-list {
  list-style: none;
  display: grid;
  gap: 6px;
}

#users-list li {
  background: rgba(36, 46, 64, 0.35);
  border: 1px solid rgba(255, 255, 255, 0.05);
  border-radius: 8px;
  padding: 6px 10px;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

/* Full-page leaderboard */
#leaderboard-full-list {
  list-style: none;
  display: grid;
  gap: 6px;
  max-height: calc(100vh - 220px);
  overflow: auto;
}

#leaderboard-full-list li {
  background: rgba(36, 46, 64, 0.45);
  border: 1px solid rgba(255, 255, 255, 0.06);
  border-radius: 8px;
  padding: 6px 10px;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

.lb-item {
  opacity: 0;
  transform: translateY(4px);
  animation: lbIn 220ms ease forwards;
}

@keyframes lbIn {
  to { opacity: 1; transform: none; }
}

#hud .row {
  display: flex;
  flex-direction: column; /* stack vertically in left column */
  align-items: flex-start; /* do not stretch to full width */
  gap: 8px;
}

#hud .row.small {
  opacity: 0.85;
}

.card {
  pointer-events: auto;
  background: rgba(19, 27, 39, 0.6);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 10px;
  padding: 8px 12px;
  backdrop-filter: blur(6px);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25);
}

.pill {
  pointer-events: auto;
  background: rgba(36, 46, 64, 0.55);
  border: 1px solid rgba(255, 255, 255, 0.06);
  border-radius: 999px;
  padding: 6px 10px;
  font-size: 12px;
  text-decoration: none;
  color: #d7e3f3;
  display: inline-block;
  font-weight: 600;
}

.pill:hover {
  background: rgba(36, 46, 64, 0.65);
  border-color: rgba(255, 255, 255, 0.10);
}

.pill:visited { color: #d7e3f3; }

/* Discord About card */
.discord-card .dc-activity-list { list-style: none; padding-left: 0; display: grid; gap: 6px; margin-top: 6px; }
.discord-card .dc-activity-list li { color: #c7d7ea; font-size: 13px; }
.discord-card .dc-banner { height: 80px; border-radius: 6px; background: rgba(0,0,0,0.2); border: 1px solid rgba(255,255,255,0.06); margin: 6px 0 8px; background-size: cover; background-position: center; }
.discord-card .dc-status-dot { position: absolute; right: -2px; bottom: -2px; width: 10px; height: 10px; border-radius: 50%; border: 2px solid rgba(19,27,39,0.9); background: #6b788d; }
.discord-card .dc-status-dot.online { background: #1c7a3a; }
.discord-card .dc-status-dot.idle { background: #cc9a06; }
.discord-card .dc-status-dot.dnd { background: #b13a3a; }
.discord-card .dc-status-dot.offline { background: #6b788d; }
.discord-card .dc-custom { display: inline-block; background: rgba(25, 33, 48, 0.65); border: 1px solid rgba(255,255,255,0.10); border-radius: 14px; padding: 8px 12px; font-size: 14px; color: #dfe9f6; box-shadow: 0 12px 36px rgba(0,0,0,0.35); backdrop-filter: blur(10px); }
.discord-card .dc-badges { display: flex; gap: 6px; flex-wrap: wrap; }
.discord-card .dc-badge { display: inline-flex; align-items: center; gap: 4px; background: rgba(36,46,64,0.45); border: 1px solid rgba(255,255,255,0.06); border-radius: 999px; padding: 2px 8px; font-size: 12px; color: #cfe1fb; }
.discord-card .dc-bio { color: #c7d7ea; }
/* Popover behavior */
.discord-card { position: relative; }
/* Removed chip/expand UI */
/* Simple static panel */
.discord-card .dc-panel { display: none; }

/* Badge icon support */
.discord-card .dc-badge { gap: 6px; }
.discord-card .dc-badge .dc-badge-icon { width: 16px; height: 16px; display: inline-block; }

/* Lanyard profile image */
.discord-card .dc-lanyard-img { width: 100%; height: auto; display: block; border-radius: 10px; border: 1px solid rgba(255,255,255,0.08); background: rgba(0,0,0,0.2); }

#overlay {
  position: fixed;
  inset: 0;
  display: grid;
  place-items: center;
  background: rgba(0, 0, 0, 0.45);
  z-index: 20;
}

#end-overlay {
  position: fixed;
  inset: 0;
  display: grid;
  place-items: center;
  background: rgba(0, 0, 0, 0.45);
  z-index: 25;
}

/* About page */
.about-wrap {
  max-width: 1000px;
  margin: 80px auto;
  padding: 0 20px;
}
.tab#about-tab { position: relative; min-height: calc(100vh - 48px); overflow: hidden; --gx: 70%; --gy: 10%; }
.tab#about-tab::before {
  content: "";
  position: fixed;
  inset: 0;
  background:
    radial-gradient(900px 600px at var(--gx) var(--gy), rgba(255, 92, 135, 0.22), transparent 60%),
    radial-gradient(900px 600px at 20% 80%, rgba(255, 179, 71, 0.18), transparent 65%),
    radial-gradient(1200px 800px at 70% 10%, #2a123d 0%, #140a22 60%, #0b0614 100%);
  z-index: -1;
  pointer-events: none;
}
.about-wrap h1 { color: #7ccfff; margin-bottom: 8px; }
.about-wrap p { color: #c7d7ea; margin: 8px 0 14px; }
.about-grid { display: grid; grid-template-columns: 1fr; gap: 16px; margin-top: 10px; }
.about-card { background: rgba(19,27,39,0.6); border: 1px solid rgba(255,255,255,0.08); border-radius: 6px; padding: 14px; transition: transform 180ms ease, box-shadow 220ms ease, border-color 220ms ease, background 220ms ease; }
.about-card:hover { transform: translateY(-2px); box-shadow: 0 12px 36px rgba(0, 0, 0, 0.35); border-color: rgba(255,255,255,0.12); background: rgba(25,33,48,0.65); }
.about-card h2 { margin-bottom: 6px; color: #dfe9f6; }
.mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }

/* About list bullets */
.about-card ul { list-style: none; margin: 0; padding-left: 0; display: grid; gap: 8px; }
.about-card li { position: relative; padding-left: 16px; color: #c7d7ea; }
.about-card li::before { content: ""; position: absolute; left: 0; top: 0.7em; width: 6px; height: 6px; border-radius: 50%; background: linear-gradient(180deg, #ffb347, #ff5c87); box-shadow: 0 0 0 2px rgba(255,255,255,0.06); transform: translateY(-50%); }

/* Game card */
.game-thumb { aspect-ratio: 16 / 9; background: rgba(0,0,0,0.25); border: 1px solid rgba(255,255,255,0.06); border-radius: 8px; overflow: hidden; margin: 6px 0 10px; display: grid; place-items: center; }
.game-thumb img { width: 100%; height: 100%; object-fit: cover; display: block; background: linear-gradient(135deg, rgba(255,92,135,0.15), rgba(255,179,71,0.10)); }

/* Sooky card pop-out */
.game-card { position: relative; }
.game-card .game-thumb { transition: transform 240ms ease, box-shadow 240ms ease; }
.game-card:hover { transform: translateY(-4px) scale(1.02); z-index: 2; }
.game-card:hover .game-thumb { transform: scale(1.05); box-shadow: 0 16px 40px rgba(0,0,0,0.45); }

/* Game stats row */
.game-stats { color: #9fb5d4; font-size: 12px; display: flex; gap: 8px; align-items: center; margin: 4px 0 6px; flex-wrap: wrap; }
.game-stats .sep { opacity: 0.6; }
.game-stats .stat { white-space: nowrap; }

/* Style Guide */
.style-wrap { max-width: 1100px; margin: 80px auto; padding: 0 20px; }
.style-wrap h1 { color: #7ccfff; margin-bottom: 8px; }
.style-wrap h2 { color: #dfe9f6; margin: 18px 0 10px; }
.style-wrap p { color: #c7d7ea; }
.swatches { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 12px; margin: 10px 0 6px; }
.swatch { background: rgba(19,27,39,0.6); border: 1px solid rgba(255,255,255,0.08); border-radius: 10px; padding: 10px; display: flex; align-items: center; gap: 10px; }
.swatch::before { content: ""; width: 28px; height: 28px; border-radius: 6px; background: var(--c); border: 1px solid rgba(255,255,255,0.2); }
.swatch span { color: #d7e3f3; }
.type-scale { display: grid; gap: 6px; margin-bottom: 8px; }
.type-scale .label { display: inline-block; min-width: 40px; color: #9fb5d4; margin-right: 8px; font-size: 12px; }
.sg-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 16px; margin-top: 8px; }

/* Widgets layout: one card per row */
.widgets-grid { display: grid; grid-template-columns: 1fr; gap: 16px; margin-top: 8px; }
.sheet-embed { margin-top: 8px; border: 1px solid rgba(255,255,255,0.08); border-radius: 8px; overflow: hidden; background: rgba(0,0,0,0.2); }
.sheet-embed iframe { display: block; width: 100%; height: min(75vh, 820px); border: 0; background: #0f1520; }

/* Fake spreadsheet trainer (Basics) */
.widgets-trainer { margin-top: 8px; display: grid; gap: 10px; }
.sheet-grid { display: grid; grid-template-columns: 40px repeat(4, minmax(80px, 1fr)); grid-auto-rows: 38px; gap: 0; width: 100%; max-width: 820px; border: 1px solid rgba(0,0,0,0.15); border-radius: 6px; overflow: hidden; background: #ffffff; }
.sheet-h { background: #1c7a3a; color: #ffffff; font-weight: 700; display: grid; place-items: center; border-right: 1px solid rgba(0,0,0,0.15); border-bottom: 1px solid rgba(0,0,0,0.15); }
.sheet-h.corner { background: rgba(19,27,39,0.9); }
.sheet-c { background: #ffffff; border-right: 1px solid rgba(0,0,0,0.15); border-bottom: 1px solid rgba(0,0,0,0.15); padding: 0; position: relative; }
.sheet-input { width: 100%; height: 100%; background: transparent; border: 0; outline: none; padding: 6px 8px; color: #0f1520; font: inherit; }
.sheet-input::placeholder { color: #6b788d; }
.sheet-c.buttonish { cursor: pointer; }
.trainer-bar { display: flex; gap: 8px; align-items: center; flex-wrap: wrap; }
.trainer-bar .pill { cursor: pointer; }
.trainer-steps { list-style: decimal; padding-left: 18px; display: grid; gap: 6px; color: #c7d7ea; }
.trainer-steps li.done { color: #9fe59f; }
.trainer-status { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
.trainer-status.ok { color: #9fe59f; }
.trainer-status.err { color: #ff9f9f; }
.sheet-c.value-mode .sheet-input { background: #ffffff; color: #0f1520; font-weight: 700; }
.trainer-task { color: #dfe9f6; font-weight: 600; }
.hint { margin-top: 6px; }
.hint .hint-body { display: none; margin-top: 8px; }
.hint.open .hint-body { display: block; }
/* Fill handle for drag-to-fill (Absolute Ref trainer) */
.sheet-c { position: relative; }
.fill-handle { position: absolute; right: 2px; bottom: 2px; width: 8px; height: 8px; background: #1c7a3a; border: 1px solid rgba(0,0,0,0.25); border-radius: 2px; cursor: ns-resize; }
.sheet-output { color: #0f1520; background: #ffffff; width: 100%; height: 100%; display: grid; place-items: center; font-weight: 700; }
.rowcheck { display: inline-flex; align-items: center; gap: 6px; padding: 2px 6px; border-radius: 6px; background: rgba(36,46,64,0.45); border: 1px solid rgba(255,255,255,0.06); color: #c7d7ea; font-size: 12px; }
.rowcheck.ok { background: rgba(28, 122, 58, 0.22); border-color: rgba(28, 122, 58, 0.45); color: #9fe59f; }
/* Range selection highlight (Summaries trainer) */
.sheet-c.selected { outline: 2px solid rgba(124,207,255,0.9); outline-offset: -2px; background: rgba(124,207,255,0.12); }

#overlay.hidden {
  display: none;
}

#end-overlay.hidden {
  display: none;
}

.modal {
  background: rgba(20, 26, 38, 0.9);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 16px;
  padding: 24px 32px;
  text-align: center;
  box-shadow: 0 20px 80px rgba(0, 0, 0, 0.45);
}

.modal h1 {
  font-size: 40px;
  margin-bottom: 8px;
  color: #7ccfff;
}

.modal p {
  color: #c7d7ea;
}



